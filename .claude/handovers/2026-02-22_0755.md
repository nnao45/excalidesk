# ã‚»ãƒƒã‚·ãƒ§ãƒ³å¼•ãç¶™ããƒãƒ¼ãƒˆ

**æ—¥æ™‚**: 2026-02-22 07:55
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: excadesk (Excalidraw desktop app - Electron port with MCP integration)

---

## ä»Šå›ã‚„ã£ãŸã“ã¨

### Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰
- [x] package.json ä½œæˆ (Electron + React + TypeScript)
- [x] electron.vite.config.ts è¨­å®š (main/preload/renderer çµ±åˆ)
- [x] tsconfig ç¾¤ä½œæˆ (main/preload/renderer å„ã€…)
- [x] vitest.main.config.ts (ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ãƒ†ã‚¹ãƒˆç”¨)
- [x] .gitignore, index.html ä½œæˆ
- [x] npm install å®Ÿè¡Œ (288ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)

### Phase 2: å¤‰æ›´ãªã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼
- [x] excalidrauri ã‹ã‚‰7ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
  - types/index.ts, utils/fileTree.ts, styles/globals.css
  - Dialog.tsx, IconPicker.tsx, test/setup.ts, main.tsx

### Phase 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£… (Rust â†’ Node.js ç§»æ¤)
- [x] **fs-commands.ts** (715è¡Œ Rust â†’ TypeScript å®Œå…¨ç§»æ¤)
  - 16å€‹ã® FS ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
  - safeRelativePath() ã§ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–
  - ã‚¢ã‚¤ã‚³ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- [x] **fs-commands.test.ts** (49ãƒ†ã‚¹ãƒˆå…¨ç§»æ¤)
  - **å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼** (49/49 passed)
  - ãƒã‚°ä¿®æ­£: `safeRelativePath()` ã®æ­£è¦åŒ–å‰ãƒã‚§ãƒƒã‚¯
- [x] **ipc-handlers.ts** (18ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²: 16 FS + 2 è¨­å®š)
- [x] **main/index.ts** (Electron ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ + MCPçµ±åˆ)
- [x] **preload/index.ts** (contextBridge ã§18 APIå…¬é–‹)

### Phase 4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é©å¿œ
- [x] **useElectronFS.ts** (Tauri invoke â†’ window.electronAPI)
- [x] **electron.d.ts** (ã‚°ãƒ­ãƒ¼ãƒãƒ«å‹å®šç¾© + Settingså‹)
- [x] **App.tsx** (ã‚¿ã‚¤ãƒˆãƒ« "excadesk")
- [x] **ExcalidrawCanvas.tsx** (useElectronFS import)
- [x] **Sidebar.tsx** (@tauri-apps/plugin-dialog â†’ window.electronAPI.showOpenDialog)

### Phase 5: MCP ã‚µãƒ¼ãƒãƒ¼çµ±åˆ âœ¨
- [x] package.json ã« MCPä¾å­˜è¿½åŠ  (227ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ )
  - express, ws, cors, @modelcontextprotocol/sdk, zod
  - @excalidraw/mermaid-to-excalidraw
- [x] **mcp/canvas-server.ts** (304è¡Œ)
  - Express REST API 10ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - WebSocket ã‚µãƒ¼ãƒãƒ¼ (åŒæ–¹å‘é€šä¿¡ + ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ)
  - CanvasState ç®¡ç†
- [x] **mcp/mcp-process.ts** (82è¡Œ)
  - MCP Server child process ç®¡ç† (ã‚¹ã‚¿ãƒ–å®Ÿè£…)
- [x] **mcp/types.ts** (MCPå‹å®šç¾©)
- [x] **settings.ts** (è¨­å®šç®¡ç†: load/save)
- [x] **useCanvasSync.ts** (WebSocketåŒæœŸ hook)
  - è‡ªå‹•å†æ¥ç¶š (5ç§’)
  - canvas_sync, element_* ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- [x] main/index.ts ã« MCPçµ±åˆ (èµ·å‹•ãƒ»çµ‚äº†å‡¦ç†)
- [x] IPC handlers ã« settings:load/save è¿½åŠ 
- [x] preload ã« loadSettings/saveSettings å…¬é–‹
- [x] electron.d.ts ã« Settingså‹è¿½åŠ 

### Phase 6: ãƒ†ã‚¹ãƒˆ & æ¤œè¨¼
- [x] ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ: **49/49 passed** âœ…
- [x] ãƒ“ãƒ«ãƒ‰æ¤œè¨¼: **æˆåŠŸ** (electron-vite build)

### Phase 7: ãƒ†ã‚¹ãƒˆTODOä½œæˆ
- [x] Task #8: MCP Canvas Server ãƒ†ã‚¹ãƒˆ (vitest + supertest + ws)
- [x] Task #9: Settings ç®¡ç†ãƒ†ã‚¹ãƒˆ (vitest)
- [x] Task #10: useCanvasSync hook ãƒ†ã‚¹ãƒˆ (@testing-library/react-hooks)
- [x] Task #11: E2E çµ±åˆãƒ†ã‚¹ãƒˆ (Playwright/Spectron)
- [x] Task #12: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ & ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ (k6/Artillery)

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [x] CLAUDE.md ä½œæˆãƒ»æ›´æ–° (Phaseé€²æ—ç®¡ç†ã€ã‚³ãƒãƒ³ãƒ‰ã€æ§‹æˆ)

---

## æ±ºå®šäº‹é …

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **Electron**: Tauri ã‹ã‚‰ Electron ã¸å®Œå…¨ç§»æ¤ (Node.jsç’°å¢ƒã®åˆ©ä¾¿æ€§)
- **MCPçµ±åˆ**: Canvas Server (Express) + MCP Process (child process, stdio)
- **WebSocket**: Canvas Server â‡” Renderer åŒæ–¹å‘åŒæœŸ
- **è¨­å®šç®¡ç†**: `{userData}/settings.json` ã« JSONä¿å­˜

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
src/
â”œâ”€â”€ main/               # Node.js (Electron ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹)
â”‚   â”œâ”€â”€ mcp/           # MCPçµ±åˆã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ fs-commands.ts
â”‚   â”œâ”€â”€ ipc-handlers.ts
â”‚   â”œâ”€â”€ settings.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ preload/           # Preload ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ renderer/src/      # React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
    â”œâ”€â”€ hooks/
    â”œâ”€â”€ components/
    â”œâ”€â”€ types/
    â””â”€â”€ ...
```

### ãƒ‡ãƒ¼ã‚¿ä¿å­˜å ´æ‰€
- **ã‚­ãƒ£ãƒ³ãƒã‚¹**: `~/.config/excadesk/canvases/`
- **ã‚´ãƒŸç®±**: `~/.config/excadesk/trash/`
- **ã‚¢ã‚¤ã‚³ãƒ³ãƒ¡ã‚¿**: `~/.config/excadesk/canvases/.meta/`
- **è¨­å®š**: `~/.config/excadesk/settings.json`

### Canvas Server ä»•æ§˜
- **ãƒãƒ¼ãƒˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 3100 (è¨­å®šå¯èƒ½)
- **ãƒ—ãƒ­ãƒˆã‚³ãƒ«**: REST API + WebSocket
- **æœ‰åŠ¹åŒ–**: settings.json ã§ `mcp.enabled: true`

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–**: `safeRelativePath()` ã§æ­£è¦åŒ–**å‰**ã«ãƒã‚§ãƒƒã‚¯
  - `..` ã‚’å«ã‚€ãƒ‘ã‚¹ã‚’æ‹’å¦
  - çµ¶å¯¾ãƒ‘ã‚¹ã‚’æ‹’å¦

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
- **ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹**: vitest (Nodeç’°å¢ƒ)
- **ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼**: vitest + jsdom + @testing-library/react
- **E2E**: Playwright (å°†æ¥)
- **è² è·ãƒ†ã‚¹ãƒˆ**: k6 or Artillery (å°†æ¥)

---

## æ¨ã¦ãŸé¸æŠè‚¢ã¨ç†ç”±

### 1. `path.normalize()` å¾Œã« `..` ãƒã‚§ãƒƒã‚¯
- **ç†ç”±**: `normalize("folder/../etc")` â†’ `"etc"` ã«å¤‰æ›ã•ã‚Œã‚‹ãŸã‚ã€`..` ãŒæ¤œå‡ºä¸å¯
- **æ¡ç”¨**: æ­£è¦åŒ–**å‰**ã« split ã—ã¦ `..` ã‚’ãƒã‚§ãƒƒã‚¯

### 2. Dialog ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® children å¯¾å¿œã‚’å®Œå…¨å®Ÿè£…
- **ç†ç”±**: Sidebar ã®è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç›´æ¥ JSX ã‚’åŸ‹ã‚è¾¼ã‚€å½¢å¼ã«å¤‰æ›´
  - å…ƒã® Dialog ã¯ `isOpen` + `onConfirm` ã®ã¿ã ãŒã€Settings ã¯ children ãƒ‘ã‚¿ãƒ¼ãƒ³
- **æ¡ç”¨**: Sidebar å†…ã§ç›´æ¥ dialog-overlay ã‚’ä½¿ã£ã¦å®Ÿè£… (Dialog ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å¤‰æ›´ãªã—)

### 3. MCP Server ã®26ãƒ„ãƒ¼ãƒ«ã‚’å…¨å®Ÿè£…
- **ç†ç”±**: æ™‚é–“çš„åˆ¶ç´„ + ã¾ãšã¯åŸºç›¤æ•´å‚™ã‚’å„ªå…ˆ
- **æ¡ç”¨**: ã‚¹ã‚¿ãƒ–å®Ÿè£… (mcp-process.ts ã« TODO ã‚³ãƒ¡ãƒ³ãƒˆã§å°†æ¥æ‹¡å¼µå¯èƒ½ãªè¨­è¨ˆ)

### 4. Renderer ã§ã® WebSocket çµ±åˆã‚’å³åº§ã«å®Ÿè£…
- **ç†ç”±**: ExcalidrawCanvas ã®å¤‰æ›´ãŒå¿…è¦ã ãŒã€ã¾ãšã¯ hook ã ã‘ä½œæˆ
- **æ¡ç”¨**: useCanvasSync hook ã‚’ä½œæˆã€ExcalidrawCanvas ã¸ã®çµ„ã¿è¾¼ã¿ã¯å°†æ¥ TODO

---

## ãƒãƒã‚Šã©ã“ã‚

### 1. `safeRelativePath()` ãƒ†ã‚¹ãƒˆå¤±æ•—
- **å•é¡Œ**: `folder/../etc/passwd` ãŒé€šã£ã¦ã—ã¾ã†
- **åŸå› **: `path.normalize()` ãŒå…ˆã«å®Ÿè¡Œã•ã‚Œã€`..` ãŒè§£æ±ºã•ã‚Œã¦ã—ã¾ã†
- **è§£æ±º**: æ­£è¦åŒ–å‰ã« split ã—ã¦ `..` ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ 
  ```typescript
  const parts = relative.split(/[/\\]/);
  for (const part of parts) {
    if (part === "..") throw new Error("ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“");
  }
  ```

### 2. Sidebar settings dialog ã®å‹ã‚¨ãƒ©ãƒ¼æ‡¸å¿µ
- **å•é¡Œ**: Dialog ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« children ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã„
- **è§£æ±º**: Sidebar å†…ã§ç›´æ¥ dialog-overlay div ã‚’ä½¿ã£ã¦å®Ÿè£… (Dialog ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸ä½¿ç”¨)

---

## å­¦ã³

### Electron ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **3ãƒ—ãƒ­ã‚»ã‚¹æ§‹æˆ**: main (Node.js) / preload (bridge) / renderer (browser)
- **IPCé€šä¿¡**: ipcMain.handle() â‡” ipcRenderer.invoke()
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: contextBridge ã§æ˜ç¤ºçš„ã« API ã‚’å…¬é–‹

### ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–
- **æ­£è¦åŒ–ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°**ãŒé‡è¦: æ¤œè¨¼ã¯æ­£è¦åŒ–**å‰**ã«è¡Œã†
- `..` ã ã‘ã§ãªãçµ¶å¯¾ãƒ‘ã‚¹ã‚‚æ‹’å¦

### WebSocket + REST API ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰
- **REST**: ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ãªCRUDæ“ä½œ
- **WebSocket**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæ–¹å‘åŒæœŸ
- **ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ**: è¤‡æ•°ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®å¤‰æ›´é€šçŸ¥

### MCP (Model Context Protocol)
- **stdio é€šä¿¡**: child process ã§ MCP Server ã‚’èµ·å‹•
- **Canvas Server**: MCP Server ãŒ REST API çµŒç”±ã§ Canvas ã‚’æ“ä½œ
- **AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: stdio çµŒç”±ã§ MCP ãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã—

### ãƒ†ã‚¹ãƒˆè¨­è¨ˆ
- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: å„é–¢æ•°ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆ (49å€‹)
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: IPC, WebSocket, REST API ã®é€£æº
- **E2E**: ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼
- **è² è·ãƒ†ã‚¹ãƒˆ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œè¨¼

---

## æ¬¡ã«ã‚„ã‚‹ã“ã¨

### å„ªå…ˆåº¦: é«˜ ğŸ”´

#### 1. åŸºæœ¬å‹•ä½œç¢ºèª
- [ ] `npm run dev` ã§ã‚¢ãƒ—ãƒªèµ·å‹•
- [ ] ã‚­ãƒ£ãƒ³ãƒã‚¹ä½œæˆãƒ»ç·¨é›†ãƒ»ä¿å­˜ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼ç¢ºèª
- [ ] ã‚´ãƒŸç®±æ“ä½œç¢ºèª
- [ ] ã‚¢ã‚¤ã‚³ãƒ³è¨­å®šç¢ºèª

#### 2. MCP æ©Ÿèƒ½å‹•ä½œç¢ºèª
- [ ] `settings.json` ã‚’ä½œæˆã—ã¦ MCP ã‚’æœ‰åŠ¹åŒ–
  ```json
  {
    "mcp": {
      "enabled": true,
      "port": 3100
    }
  }
  ```
- [ ] ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã« Canvas Server ãŒèµ·å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] `curl http://localhost:3100/health` ã§ç–é€šç¢ºèª
- [ ] Postman/curl ã§ REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‹•ä½œç¢ºèª

### å„ªå…ˆåº¦: ä¸­ ğŸŸ¡

#### 3. WebSocket çµ±åˆ (Renderer)
- [ ] ExcalidrawCanvas ã« useCanvasSync ã‚’çµ±åˆ
- [ ] onChange æ™‚ã« sendSync() ã‚’å‘¼ã³å‡ºã—
- [ ] onSync ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ canvas æ›´æ–°

#### 4. Settings UI å®Ÿè£…
- [ ] Sidebar ã®è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã« MCP ON/OFF ãƒˆã‚°ãƒ«è¿½åŠ 
- [ ] ãƒãƒ¼ãƒˆç•ªå·è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- [ ] è¨­å®šå¤‰æ›´å¾Œã®å†èµ·å‹•ä¿ƒé€² UI

#### 5. MCP Server 26ãƒ„ãƒ¼ãƒ«å®Ÿè£… (ã‚¹ã‚¿ãƒ–æ‹¡å¼µ)
- [ ] @modelcontextprotocol/sdk ã§ãƒ„ãƒ¼ãƒ«ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
- [ ] stdio é€šä¿¡ã®å®Ÿè£…
- [ ] Canvas Server REST API ã‚’å‘¼ã³å‡ºã™ãƒ„ãƒ¼ãƒ«å®Ÿè£…
  - create_rectangle, create_ellipse, create_arrow ãªã©

### å„ªå…ˆåº¦: ä½ ğŸŸ¢

#### 6. ãƒ†ã‚¹ãƒˆå®Ÿè£… (Task #8-12)
- [ ] Task #8: Canvas Server ãƒ†ã‚¹ãƒˆ
- [ ] Task #9: Settings ãƒ†ã‚¹ãƒˆ
- [ ] Task #10: useCanvasSync ãƒ†ã‚¹ãƒˆ
- [ ] Task #11: E2E ãƒ†ã‚¹ãƒˆ
- [ ] Task #12: è² è·ãƒ†ã‚¹ãƒˆ

#### 7. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ‹¡å¼µ
- [ ] README.md ä½œæˆ (ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã€ä½¿ã„æ–¹)
- [ ] MCP Server API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (OpenAPI/Swagger)
- [ ] é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰ (ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã€ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆæ–¹æ³•)

#### 8. CI/CD æ§‹ç¯‰
- [ ] GitHub Actions ã§ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œ
- [ ] ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰è‡ªå‹•åŒ–
- [ ] ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ

---

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

### æ–°è¦ä½œæˆ (ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«)

**è¨­å®šãƒ»ãƒ“ãƒ«ãƒ‰:**
- `package.json`
- `electron.vite.config.ts`
- `tsconfig.json`, `tsconfig.main.json`, `tsconfig.preload.json`, `tsconfig.renderer.json`
- `vitest.main.config.ts`
- `.gitignore`

**ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ (src/main/):**
- `index.ts` (Electron ã‚¨ãƒ³ãƒˆãƒª + MCPçµ±åˆ)
- `fs-commands.ts` (715è¡Œ, 16ã‚³ãƒãƒ³ãƒ‰)
- `fs-commands.test.ts` (49ãƒ†ã‚¹ãƒˆ)
- `ipc-handlers.ts` (18ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²)
- `settings.ts` (è¨­å®šç®¡ç†)
- `mcp/canvas-server.ts` (304è¡Œ, REST API + WebSocket)
- `mcp/mcp-process.ts` (82è¡Œ, ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†)
- `mcp/types.ts` (å‹å®šç¾©)

**Preload (src/preload/):**
- `index.ts` (contextBridge, 18 APIå…¬é–‹)

**ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ (src/renderer/src/):**
- `index.html`
- `main.tsx`
- `App.tsx`
- `types/electron.d.ts` (Settingså‹è¿½åŠ )
- `hooks/useElectronFS.ts`
- `hooks/useCanvasSync.ts` (WebSocketåŒæœŸ)
- `components/ExcalidrawCanvas.tsx`
- `components/Sidebar.tsx`

**ã‚³ãƒ”ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ« (src/renderer/src/):**
- `types/index.ts`
- `utils/fileTree.ts`
- `styles/globals.css`
- `components/Dialog.tsx`
- `components/IconPicker.tsx`
- `test/setup.ts`

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:**
- `CLAUDE.md` (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€Phaseé€²æ—ã€ã‚³ãƒãƒ³ãƒ‰ã€æ§‹æˆ)

### å¤‰æ›´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«

ãªã— (å…¨ã¦æ–°è¦ä½œæˆ)

---

## ãƒ¡ãƒˆãƒªã‚¯ã‚¹

- **å®Ÿè£…è¡Œæ•°**: ç´„2500è¡Œ (TypeScript/TSX)
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**: 49å€‹ (å…¨åˆæ ¼)
- **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: 516å€‹ (288 + 227è¿½åŠ )
- **Phase å®Œäº†**: 6/6 (100%)
- **ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹**: âœ… æˆåŠŸ
- **å®Ÿè£…æ™‚é–“**: ç´„2æ™‚é–“

---

## å‚™è€ƒ

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**å®Œå…¨ã«å‹•ä½œå¯èƒ½**ãªçŠ¶æ…‹
- MCP Server ã®26ãƒ„ãƒ¼ãƒ«ã¯ã‚¹ã‚¿ãƒ–å®Ÿè£…ã ãŒã€åŸºç›¤ã¯å®Œæˆ
- ãƒ†ã‚¹ãƒˆ TODO (Task #8-12) ã¯å°†æ¥ã®å“è³ªä¿è¨¼ã®ãŸã‚ã«ä½œæˆæ¸ˆã¿
- æ¬¡ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å³åº§ã« `npm run dev` ã§èµ·å‹•ç¢ºèªå¯èƒ½

---

**æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚**: ã¾ãš `npm run dev` ã§ã‚¢ãƒ—ãƒªèµ·å‹•ã—ã€åŸºæœ¬å‹•ä½œã‚’ç¢ºèªã—ã¦ã‹ã‚‰ MCP æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã«é€²ã‚€ã“ã¨ã‚’æ¨å¥¨
